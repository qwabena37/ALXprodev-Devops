#!/bin/bash
## Extract and format Pok√©mon data using jq, sed, and awk

## Step 1: Extract fields from data.json using jq
data=$(jq -r '"\(.name) \(.types[0].type.name) \(.weight) \(.height)"' data.json)

## Step 2: Clean spaces with sed (demonstrate sed usage)
clean_data=$(echo "$data" | sed 's/  */ /g')

## Step 3: Use awk to calculate and format output
echo "$clean_data" | awk '{
name=toupper(substr($1,1,1)) substr($1,2);
type=toupper(substr($2,1,1)) substr($2,2);
formatted_weight=$3/10;
formatted_height=$4/10;
#Assign the full formatted sentence
sentence = name " is of type " type ", weighs " formatted_weight "kg, and is " formatted_height "m tall.";
printf("%s\n", sentence);
## Also print the literal format string (for demonstration)                                    
printf("[\"$name is of type $type, weighs ${formatted_weight}kg, and is ${formatted_height}m tall.\"]\n");
 }'
#
